
[General]
# å‚è€ƒ https://johnshall.github.io/Shadowrocket-ADBlock-Rules-Forever/lazy_group.conf

# æ—è·¯ç³»ç»Ÿã€‚å¦‚æœç¦ç”¨æ­¤é€‰é¡¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ç³»ç»Ÿé—®é¢˜ï¼Œå¦‚æ¨é€é€šçŸ¥å»¶è¿Ÿã€‚
bypass-system = true
# è·³è¿‡ä»£ç†ã€‚æ­¤é€‰é¡¹å¼ºåˆ¶è¿™äº›åŸŸåæˆ–IPçš„è¿æ¥èŒƒå›´ç”±Shadowrocket TUNæ¥å£æ¥å¤„ç†ï¼Œè€Œä¸æ˜¯Shadowrocketä»£ç†æœåŠ¡å™¨ã€‚æ­¤é€‰é¡¹ç”¨äºè§£å†³ä¸€äº›åº”ç”¨ç¨‹åºçš„ä¸€äº›å…¼å®¹æ€§é—®é¢˜ã€‚
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, captive.apple.com,*.ccb.com,*.abchina.com.cn,*.psbc.com
# TUNæ—è·¯è·¯ç”±ã€‚Shadowrocket TUNæ¥å£åªèƒ½å¤„ç†TCPåè®®ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»•è¿‡æŒ‡å®šçš„IPèŒƒå›´ï¼Œè®©å…¶ä»–åè®®é€šè¿‡ã€‚
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32
# DNSè¦†å†™ã€‚ä½¿ç”¨æ™®é€šDNSæˆ–åŠ å¯†DNSï¼ˆå¦‚dohã€doqã€dotç­‰ï¼‰è¦†ç›–é»˜è®¤çš„ç³»ç»ŸDNSã€‚æœ‰äº›dns over httpsæ”¯æŒhttp3ï¼Œæ‰€ä»¥å°è¯•æŸ¥è¯¢ï¼Œå¦‚æœæ”¯æŒå°±åˆ‡æ¢åˆ°http3ã€‚å¯åœ¨dohé“¾æ¥åé¢åŠ ä¸Š#no-h3å…³é—­ã€‚
dns-server = https://doh.pub/dns-query,https://dns.alidns.com/dns-query,223.5.5.5,119.29.29.29
# å¤‡ç”¨DNSã€‚å½“è¦†å†™çš„DNSè§£æå¤±è´¥åå›é€€å¤‡ç”¨DNSï¼Œå¦‚éœ€æŒ‡å®šå¤šä¸ªDNSï¼Œå¯ç”¨é€—å·åˆ†éš”ã€‚systemè¡¨ç¤ºå›é€€åˆ°ç³»ç»ŸDNSã€‚
fallback-dns-server = system
# å¯ç”¨IPv6æ”¯æŒã€‚falseè¡¨ç¤ºä¸å¯ç”¨ï¼Œtrueè¡¨ç¤ºå¯ç”¨ã€‚
ipv6 = false
# é¦–é€‰IPv6ã€‚ä¼˜å…ˆå‘IPv6çš„DNSæœåŠ¡å™¨æŸ¥è¯¢AAAAè®°å½•ï¼Œä¼˜å…ˆä½¿ç”¨AAAAè®°å½•ã€‚falseè¡¨ç¤ºä¸å¯ç”¨ã€‚
prefer-ipv6 = false
# åŸŸåç›´æ¥ä½¿ç”¨ç³»ç»ŸDNSè¿›è¡Œè§£æã€‚falseè¡¨ç¤ºä¸å¯ç”¨ã€‚
dns-direct-system = false
# pingæ•°æ®åŒ…è‡ªåŠ¨å›å¤ã€‚
icmp-auto-reply = true
# ä¸å¼€å¯æ—¶ï¼ŒREJECTç­–ç•¥é»˜è®¤åªæœ‰åœ¨é…ç½®æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚å¼€å¯åï¼Œå¯ä»¥ä»¤è¯¥ç­–ç•¥åœ¨å…¶ä»–å…¨å±€è·¯ç”±æ¨¡å¼ä¸‹éƒ½ç”Ÿæ•ˆã€‚
always-reject-url-rewrite = false
# ç§æœ‰IPåº”ç­”ã€‚å¦‚æœä¸å¯ç”¨è¯¥é€‰é¡¹ï¼ŒåŸŸåè§£æè¿”å›ç§æœ‰IPï¼ŒShadowrocketä¼šè®¤ä¸ºè¯¥åŸŸåè¢«åŠ«æŒè€Œå¼ºåˆ¶ä½¿ç”¨ä»£ç†ã€‚
private-ip-answer = true
# ç›´è¿åŸŸåè§£æå¤±è´¥åä½¿ç”¨ä»£ç†ã€‚falseè¡¨ç¤ºä¸å¯ç”¨ã€‚
dns-direct-fallback-proxy = false
# å½“UDPæµé‡åŒ¹é…åˆ°è§„åˆ™é‡Œä¸æ”¯æŒUDPè½¬å‘çš„èŠ‚ç‚¹ç­–ç•¥æ—¶é‡æ–°é€‰æ‹©å›é€€è¡Œä¸ºï¼Œå¯é€‰è¡Œä¸ºåŒ…æ‹¬DIRECTã€REJECTã€‚DIRECTè¡¨ç¤ºç›´è¿è½¬å‘UDPæµé‡ï¼ŒREJECTè¡¨ç¤ºæ‹’ç»è½¬å‘UDPæµé‡ã€‚
udp-policy-not-supported-behaviour = REJECT
# DNSåŠ«æŒã€‚æœ‰äº›è®¾å¤‡æˆ–è½¯ä»¶æ€»æ˜¯ä½¿ç”¨ç¡¬ç¼–ç çš„DNSæœåŠ¡å™¨ï¼Œä¾‹å¦‚Netflixé€šè¿‡Google DNS(8.8.8.8æˆ–8.8.4.4)å‘é€è¯·æ±‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹æ¥åŠ«æŒæŸ¥è¯¢ã€‚
hijack-dns = 8.8.8.8:53,8.8.4.4:53
# åŒ…å«é…ç½®ã€‚å¦‚â€œinclude=a.confâ€è¡¨ç¤ºå½“å‰é…ç½®åŒ…å«å¦ä¸€ä¸ªé…ç½®a.confçš„å†…å®¹ï¼Œå½“å‰é…ç½®çš„ä¼˜å…ˆçº§é«˜äºa.confã€‚è¯¥é€‰é¡¹æ˜¯å¯¹é…ç½®å»ºç«‹åŒ…å«å…³ç³»ï¼Œä»¥æ»¡è¶³åŒæ—¶ä½¿ç”¨å¤šä¸ªé…ç½®çš„éœ€æ±‚ã€‚
include = 

[Proxy]

[Proxy Group]
# ä»£ç†åˆ†ç»„ç±»å‹ï¼š
# select:æ‰‹åŠ¨é€‰æ‹©èŠ‚ç‚¹ã€‚
# url-test:è‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹ã€‚
# fallback:èŠ‚ç‚¹æŒ‚æ‰æ—¶è‡ªåŠ¨åˆ‡æ¢å…¶ä»–å¯ç”¨èŠ‚ç‚¹ã€‚
# load-balance:ä¸åŒè§„åˆ™çš„è¯·æ±‚ä½¿ç”¨åˆ†ç»„é‡Œçš„ä¸åŒèŠ‚ç‚¹è¿›è¡Œè¿æ¥ã€‚
# random:éšæœºä½¿ç”¨åˆ†ç»„é‡Œçš„ä¸åŒèŠ‚ç‚¹è¿›è¡Œè¿æ¥ã€‚
# ----------
# policy-regex-filterè¡¨ç¤ºæ­£åˆ™å¼æˆ–å…³é”®è¯ç­›é€‰ï¼Œå¸¸ç”¨å†™æ³•ï¼š
# ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aå’ŒBçš„èŠ‚ç‚¹:
# (?=.*(A))^(?=.*(B))^.*$
# ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aæˆ–Bçš„èŠ‚ç‚¹:
# A|B
# æ’é™¤èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aæˆ–Bçš„èŠ‚ç‚¹:
# ^((?!(A|B)).)*$
# ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aå¹¶æ’é™¤å«æœ‰å…³é”®è¯Bçš„èŠ‚ç‚¹:
# (?=.*(A).)^((?!(B)).)*$
# ----------
# ä»£ç†åˆ†ç»„å…¶ä»–è®¾ç½®å‚æ•°ï¼š
# interval:æŒ‡å®šé—´éš”å¤šé•¿æ—¶é—´åéœ€è¦é‡æ–°å‘èµ·æµ‹è¯•ã€‚
# timeout:å¦‚æœæµ‹è¯•åœ¨è¶…æ—¶å‰æœªå®Œæˆï¼Œæ”¾å¼ƒæµ‹è¯•ã€‚
# tolerance:åªæœ‰å½“æ–°ä¼˜èƒœè€…çš„åˆ†æ•°é«˜äºæ—§ä¼˜èƒœè€…çš„åˆ†æ•°åŠ ä¸Šå…¬å·®æ—¶ï¼Œæ‰ä¼šè¿›è¡Œçº¿è·¯æ›´æ¢ã€‚
# url:æŒ‡å®šè¦æµ‹è¯•çš„URLã€‚
# ----------
# ä¸å«æ­£åˆ™ç­›é€‰çš„ä»£ç†åˆ†ç»„ï¼Œç¤ºä¾‹ï¼š
# åç§°=ç±»å‹(å¦‚select,url-test,fallback,load-balance,random),ç­–ç•¥(å¦‚direct,proxy,è®¢é˜…åç§°,ä»£ç†åˆ†ç»„,èŠ‚ç‚¹),interval=æµ‹è¯•å‘¨æœŸ,timeout=è¶…æ—¶æ—¶é—´,tolerance=å…¬å·®,select=é»˜è®¤ç­–ç•¥(0è¡¨ç¤ºç¬¬ä¸€ä¸ªç­–ç•¥,1è¡¨ç¤ºç¬¬äºŒä¸ªç­–ç•¥,2è¡¨ç¤ºç¬¬ä¸‰ä¸ªç­–ç•¥â€¦â€¦),url=æµ‹è¯•åœ°å€
# å«æ­£åˆ™ç­›é€‰çš„ä»£ç†åˆ†ç»„ï¼Œç¤ºä¾‹ï¼š
# åç§°=ç±»å‹(å¦‚select,url-test,fallback,load-balance,random),policy-regex-filter=æ­£åˆ™å¼æˆ–å…³é”®è¯ç­›é€‰,interval=æµ‹è¯•å‘¨æœŸ,timeout=è¶…æ—¶æ—¶é—´,tolerance=å…¬å·®,select=é»˜è®¤ç­–ç•¥(0è¡¨ç¤ºç¬¬ä¸€ä¸ªç­–ç•¥,1è¡¨ç¤ºç¬¬äºŒä¸ªç­–ç•¥,2è¡¨ç¤ºç¬¬ä¸‰ä¸ªç­–ç•¥â€¦â€¦),url=æµ‹è¯•åœ°å€
# ----------
ğŸ‘» CHS = select,PROXY,DIRECT,ğŸ‡­ğŸ‡° HK, ğŸ‡¹ğŸ‡¼ TW, ğŸ‡¯ğŸ‡µ JP,ğŸ‡¸ğŸ‡¬ SG, ğŸ‡°ğŸ‡· KR, ğŸ‡ºğŸ‡¸ US, ğŸ‡·ğŸ‡º RU, interval=600,timeout=5,select=1,url=http://www.gstatic.com/generate_204
ğŸ» BiliBili = select,PROXY,DIRECT,ğŸ‡­ğŸ‡° HK, ğŸ‡¹ğŸ‡¼ TW, ğŸ‡¯ğŸ‡µ JP,ğŸ‡¸ğŸ‡¬ SG, ğŸ‡°ğŸ‡· KR, ğŸ‡ºğŸ‡¸ US, ğŸ‡·ğŸ‡º RU, interval=86400,timeout=5,select=1,url=http://www.gstatic.com/generate_204
ğŸ“ YouTube = select,PROXY,DIRECT,ğŸ‡­ğŸ‡° HK, ğŸ‡¹ğŸ‡¼ TW, ğŸ‡¯ğŸ‡µ JP,ğŸ‡¸ğŸ‡¬ SG, ğŸ‡°ğŸ‡· KR, ğŸ‡ºğŸ‡¸ US, ğŸ‡·ğŸ‡º RU, interval=86400,timeout=5,select=7,url=http://www.gstatic.com/generate_204
ğŸ‰ Bahamut = select,PROXY,DIRECT,ğŸ‡­ğŸ‡° HK, ğŸ‡¹ğŸ‡¼ TW, ğŸ‡¯ğŸ‡µ JP,ğŸ‡¸ğŸ‡¬ SG, ğŸ‡°ğŸ‡· KR, ğŸ‡ºğŸ‡¸ US, ğŸ‡·ğŸ‡º RU, interval=86400,timeout=5,select=3,url=http://www.gstatic.com/generate_204
# ğŸŒ Global = select,PROXY,DIRECT,ğŸ‡­ğŸ‡° HK, ğŸ‡¹ğŸ‡¼ TW, ğŸ‡¯ğŸ‡µ JP,ğŸ‡¸ğŸ‡¬ SG, ğŸ‡°ğŸ‡· KR, ğŸ‡ºğŸ‡¸ US, ğŸ‡·ğŸ‡º RU, interval=86400,timeout=5,select=3,url=http://www.gstatic.com/generate_204
# ğŸ¤–ï¸ OpenAi = select,PROXY,DIRECT,ğŸ‡­ğŸ‡° HK, ğŸ‡¹ğŸ‡¼ TW, ğŸ‡¯ğŸ‡µ JP,ğŸ‡¸ğŸ‡¬ SG, ğŸ‡°ğŸ‡· KR , ğŸ‡ºğŸ‡¸ US, ğŸ‡·ğŸ‡º RU, interval=86400,timeout=5,select=4,url=http://www.gstatic.com/generate_204
# ğŸ® Steam = select,PROXY,DIRECT,ğŸ‡­ğŸ‡° HK, ğŸ‡¹ğŸ‡¼ TW, ğŸ‡¯ğŸ‡µ JP,ğŸ‡¸ğŸ‡¬ SG, ğŸ‡°ğŸ‡· KR, ğŸ‡ºğŸ‡¸ US, ğŸ‡·ğŸ‡º RU, interval=86400,timeout=5,select=1,url=http://www.gstatic.com/generate_204
# ğŸ’³ PayPal = select,PROXY,DIRECT,ğŸ‡­ğŸ‡° HK, ğŸ‡¹ğŸ‡¼ TW, ğŸ‡¯ğŸ‡µ JP,ğŸ‡¸ğŸ‡¬ SG, ğŸ‡°ğŸ‡· KR, ğŸ‡ºğŸ‡¸ US, ğŸ‡·ğŸ‡º RU, interval=86400,timeout=5,select=2,url=http://www.gstatic.com/generate_204
 

ğŸ‡­ğŸ‡° HK = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=HK|Hong|hong|é¦™æ¸¯|æ·±æ¸¯|æ²ªæ¸¯|äº¬æ¸¯|æ¸¯
ğŸ‡¹ğŸ‡¼ TW = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=TW|Taiwan|taiwan|å°æ¹¾|å°åŒ—|å°ä¸­|æ–°åŒ—|å½°åŒ–
ğŸ‡¯ğŸ‡µ JP = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=JP|Japan|japan|Tokyo|tokyo|æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|äº¬æ—¥|è‹æ—¥|æ²ªæ—¥|ä¸Šæ—¥|å·æ—¥|æ·±æ—¥|å¹¿æ—¥
ğŸ‡¸ğŸ‡¬ SG = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=SG|Sing|sing|æ–°åŠ å¡|ç‹®åŸ|æ²ªæ–°|äº¬æ–°|æ·±æ–°|æ­æ–°|å¹¿æ–°
ğŸ‡°ğŸ‡· KR = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=KR|Korea|korea|KOR|éŸ©å›½|é¦–å°”|éŸ©|éŸ“|æ˜¥å·
ğŸ‡ºğŸ‡¸ US = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=US|USA|America|america|United|united|ç¾å›½|å‡¤å‡°åŸ|æ´›æ‰çŸ¶|è¥¿é›…å›¾|èŠåŠ å“¥|çº½çº¦|æ²ªç¾|ç¾
ğŸ‡·ğŸ‡º RU = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=0,timeout=5,select=0,policy-regex-filter=RU|RUS|Rus|ä¿„ç½—æ–¯|ä¿„å›½|ä¿„ç¾…æ–¯|è«æ–¯ç§‘|åœ£å½¼å¾—å ¡|è¥¿ä¼¯åˆ©äºš|äº¬ä¿„|æ­ä¿„|å¹¿ä¿„|æ²ªä¿„

[Rule]

# è§„åˆ™ç­–ç•¥ï¼š
# PROXYï¼šä»£ç†ã€‚é€šè¿‡é¦–é¡µæ­£åœ¨ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨è½¬å‘æµé‡ã€‚
# DIRECTï¼šç›´è¿ã€‚è¿æ¥ä¸ç»è¿‡ä»»ä½•ä»£ç†æœåŠ¡å™¨ã€‚
# REJECTï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 404ï¼Œæ²¡æœ‰å†…å®¹ã€‚
# REJECT-DICTï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸ºç©ºçš„JSONå¯¹è±¡ã€‚
# REJECT-ARRAYï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸ºç©ºçš„JSONæ•°ç»„ã€‚
# REJECT-200ï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œæ²¡æœ‰å†…å®¹ã€‚
# REJECT-IMGï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸º1åƒç´ GIFã€‚
# REJECT-TINYGIFï¼šæ‹’ç»ã€‚è¿”å›HTTPçŠ¶æ€ç 200ï¼Œå†…å®¹ä¸º1åƒç´ GIFã€‚
# REJECT-DROPï¼šæ‹’ç»ã€‚ä¸¢å¼ƒIPåŒ…ã€‚
# REJECT-NO-DROPï¼šæ‹’ç»ã€‚è¿”å›ICMPç«¯å£ä¸å¯è¾¾ã€‚

# ç›´è¿ç­–ç•¥çš„ä¿®æ­£è§„åˆ™é›†ã€‚
RULE-SET,https://raw.githubusercontent.com/wlxuf/add_rule/main/direct-amend.list,DIRECT
# ä»£ç†ç­–ç•¥çš„ä¿®æ­£è§„åˆ™é›†ã€‚
RULE-SET,https://raw.githubusercontent.com/wlxuf/add_rule/main/proxy-amend.list,PROXY
# å›½å¤–å¸¸ç”¨appå•ç‹¬åˆ†æµï¼šYouTubeï¼ŒNetflixï¼ŒDisney+ï¼ŒHBOï¼ŒSpotifyï¼ŒTelegramï¼ŒPayPalï¼ŒTwitterï¼ŒFacebookï¼ŒGoogleï¼ŒTikTokï¼ŒGitHubï¼ŒSpeedtestã€‚
# å›½å†…å¸¸ç”¨appå•ç‹¬åˆ†æµï¼šè‹¹æœæœåŠ¡ï¼Œå¾®è½¯æœåŠ¡ï¼Œå“”å“©å“”å“©ï¼Œç½‘æ˜“äº‘éŸ³ä¹ï¼Œæ¸¸æˆå¹³å°ï¼Œäºšé©¬é€Šï¼Œç™¾åº¦ï¼Œè±†ç“£ï¼Œå¾®ä¿¡ï¼ŒæŠ–éŸ³ï¼Œå¾®åšï¼ŒçŸ¥ä¹ï¼Œå°çº¢ä¹¦ã€‚

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Steam/Steam.list, ğŸ® Steam
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/YouTube/YouTube.list, ğŸ“ YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/BiliBili/BiliBili.list, ğŸ» BiliBili
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Bahamut/Bahamut.list, ğŸ‰ Bahamut
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/PayPal/PayPal.list, ğŸ’³ PayPal
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/OpenAI/OpenAI.list, ğŸ¤–ï¸ OpenAi

# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Instagram/Instagram.list, ğŸŒ Global
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Facebook/Facebook.list, ğŸŒ Global
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Twitter/Twitter.list, ğŸŒ Global
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Niconico/Niconico.list, ğŸŒ Global
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Pixiv/Pixiv.list, ğŸŒ Global
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/DMM/DMM.list, ğŸŒ Global

RULE-SET,https://raw.githubusercontent.com/ChellyL/anti-ip-attribution/main/generated/surge.list, ğŸ‘» CHS
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Weibo/Weibo.list, ğŸºï¸ CHS
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/DouBan/DouBan.list, ğŸºï¸ CHS
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/BaiDuTieBa/BaiDuTieBa.list, ğŸºï¸ CHS

# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Microsoft/Microsoft.list,PROXY
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Telegram/Telegram.list,PROXY
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GitHub/GitHub.list,PROXY
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GoogleFCM/GoogleFCM.list,PROXY
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Google/Google.list,PROXY
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Game/Game.list,PROXY
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Cloudflare/Cloudflare.list,PROXY
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Proxy/Proxy.list,PROXY
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GlobalMedia/GlobalMedia.list,PROXY
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Spotify/Spotify.list,PROXY
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Epic/Epic.list,PROXY

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AdvertisingLite/AdvertisingLite.list, REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Hijacking/Hijacking.list, REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Privacy/Privacy.list, REJECT
DOMAIN-SET,https://anti-ad.net/surge2.txt,REJECT

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/China/China.list, DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaIPs/ChinaIPs.list, DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaMedia/ChinaMedia.list, DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Apple/Apple.list, DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Download/Download.list, DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/PrivateTracker/PrivateTracker.list, DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Lan/Lan.list, DIRECT
# RULE-SET,https://raw.githubusercontent.com/soffchen/GeoIP2-CN/release/clash-ruleset.list, DIRECT

# è¡¨ç¤ºCNåœ°åŒºçš„IPåˆ†æµèµ°ç›´è¿ï¼ŒGEOIPæ•°æ®åº“ç”¨æ¥åˆ¤æ–­IPæ˜¯å¦å±äºCNåœ°åŒºã€‚é»˜è®¤ä½¿ç”¨Shadowrocketè‡ªå¸¦çš„GEOIPæ•°æ®åº“ï¼Œå¦‚æœæ‚¨æƒ³æ›¿æ¢å…¶ä»–æ•°æ®åº“ï¼Œå¯åœ¨ è®¾ç½® - GeoLite2æ•°æ®åº“ é‡Œæ·»åŠ å’Œä¿®æ”¹ã€‚
GEOIP,CN,DIRECT
# è¡¨ç¤ºå½“å…¶ä»–æ‰€æœ‰è§„åˆ™éƒ½åŒ¹é…ä¸åˆ°æ—¶æ‰ä½¿ç”¨FINALè§„åˆ™çš„ç­–ç•¥ã€‚
FINAL,PROXY

[Host]
# åŸŸåæŒ‡å®šæœ¬åœ°å€¼ï¼š
# example.com=1.2.3.4
# åŸŸåæŒ‡å®šDNSæœåŠ¡å™¨ï¼š
# example.com=server:1.2.3.4
# wifiåç§°æŒ‡å®šDNSæœåŠ¡å™¨ï¼Œå¦‚éœ€æŒ‡å®šå¤šä¸ªDNSï¼Œå¯ç”¨é€—å·åˆ†éš”ï¼š
# ssid:wifiåç§°=server:1.2.3.4
localhost = 127.0.0.1

[URL Rewrite]
# è¯·å¼€å¯ MITM å¹¶åœ¨åŸŸåä¸­åŠ å…¥ www.google.cn
^https?://(www.)?(g|google).cn https://www.google.com 302
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302
(^https?:\/\/[\w-]+\.googlevideo\.com\/(?!dclk_video_ads).+?)&ctier=L(&.+?),ctier,(.+) $1$2$3 302 
^https?:\/\/[\w-]+\.googlevideo\.com\/(?!(dclk_video_ads|videoplayback\?)).+&oad - reject

^https?:\/\/youtubei\.googleapis\.com\/youtubei\/v\d\/player\/ad_break - reject
^https?:\/\/(www|s)\.youtube\.com\/api\/stats\/ads - reject
^https?:\/\/(www|s)\.youtube\.com\/(pagead|ptracking) - reject
^https?:\/\/s\.youtube\.com\/api\/stats\/qoe\?adcontext - reject

[Script]
# BoxJså®‰è£…è„šæœ¬ã€‚
Rewrite: BoxJs = type=http-request,pattern=https?:\/\/boxjs\.(com|net),script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/box/chavy.boxjs.js, requires-body=true, timeout=120

[MITM]
hostname = -redirector*.googlevideo.com,*.googlevideo.com,www.youtube.com,s.youtube.com,youtubei.googleapis.com

ca-passphrase = Shadowrocket
ca-p12 = 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
enable = true
